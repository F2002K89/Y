<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>KYC Admin Viewer (Demo)</title>
  <style>body{font-family:Arial,Helvetica,sans-serif;max-width:900px;margin:24px auto;padding:0 12px}pre{background:#f6f8fa;padding:12px;border-radius:6px}</style>
</head>
<body>
  <h1>KYC Admin Viewer (Demo)</h1>
  <p>Open this page as <code>/admin.html?token=YOUR_ADMIN_TOKEN</code></p>
  <div id="content">Loading...</div>

  <script>
    async function load() {
      const token = new URLSearchParams(location.search).get('token') || '';
      const r = await fetch('/api/admin/kyc?token=' + encodeURIComponent(token));
      if (!r.ok) {
        document.getElementById('content').innerText = 'Failed: ' + r.statusText;
        return;
      }
      const items = await r.json();
      if (!items.length) { document.getElementById('content').innerText = 'No records yet.'; return; }
      const html = items.map(it => `<h3>${it.id || it.providerRef || it.createdAt}</h3><pre>${JSON.stringify(it, null, 2)}</pre>`).join('');
      document.getElementById('content').innerHTML = html;
    }
    load();
  </script>
</body>
</html>
